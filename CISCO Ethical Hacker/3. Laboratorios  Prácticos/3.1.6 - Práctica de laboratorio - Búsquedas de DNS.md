## Objetivos
- Realizar reconocimiento pasivo mediante herramientas DNS
- Dominar `nslookup`, `whois` y `dig` para recolección de información
- Comparar resultados entre herramientas
- Ejecutar búsquedas DNS inversas (rDNS)
## Recursos
- Kali Linux VM
- Acceso a Internet
- Dominios de prueba: `cisco.com`, `skillsforall.com`

---
## Parte 1: Uso de `nslookup`

### Paso 2: Investigación de capacidades
- **Comando clave**: `man nslookup`
- **Consulta MX**: `set type=mx`

### Paso 3: Modo interactivo
```bash
nslookup
> cisco.com  # Resolución básica (A/AAAA)
> set type=ns  # Consulta servidores DNS
> cisco.com
```
- **Servidores DNS de Cisco**:
  - ns1.cisco.com (IPv4: 72.163.5.201)
  - ns2.cisco.com (IPv4: 64.102.255.44)

### Paso 4: Cambio de servidor DNS
```bash
nslookup skillsforall.com 8.8.8.8  # Usa DNS de Google
> server 8.8.8.8  # En modo interactivo
> set type=any  # Todos los registros
```
- **Registros obtenidos**:
  - A, AAAA, MX, TXT, SOA, NS

---

## Parte 2: Uso de `whois`

### Paso 1: Comparación de dominios
```bash
whois cisco.com
whois skillsforall.com
```
- **Diferencias**:
  - `cisco.com`: Información técnica visible (DNStination Inc.)
  - `skillsforall.com`: Datos protegidos por privacidad

### Paso 2: Búsqueda por IP
```bash
whois 72.163.5.201
```
- **Bloque IP de Cisco**: `72.163.0.0/16` (CISCO-GEN-7)
- **Datos organizacionales**:
  - ASN: AS109
  - Ubicación: San Jose, CA

---

## Parte 3: Comparación `nslookup` vs `dig`

### Paso 1: Consultas básicas
```bash
dig cisco.com  # Por defecto consulta A
dig cisco.com AAAA  # IPv6
```
- **Diferencia**: `dig` muestra más detalles técnicos (TTL, headers)

### Paso 2: Consultas avanzadas
```bash
dig cisco.com @8.8.8.8 ns  # Usando DNS alternativo
dig skillsforall.com any
```
- **Legibilidad**: `dig` organiza mejor los registros por secciones (QUESTION, ANSWER)

---

## Parte 4: Búsquedas DNS inversas (rDNS)

### Paso 1: Con `dig`
```bash
dig -x 72.163.5.201  # Consulta PTR
```
- **Tipo de registro**: PTR (Pointer)
- **Ejemplo dispositivo**: `hsrp-72-163-10-1.cisco.com` → Router HSRP

### Paso 2: Con `host`
```bash
host 72.163.10.1
host hsrp-72-163-10-1.cisco.com
```
- **Ventaja**: Salida concisa para alias

### Paso 3: Con `nslookup`
```bash
nslookup 72.163.5.201  # Modo directo
> 72.163.5.201  # Modo interactivo
```

---

## Conclusiones Clave
| Herramienta | Fortalezas        | Uso típico                  |
| ----------- | ----------------- | --------------------------- |
| `nslookup`  | Modo interactivo  | Consultas rápidas           |
| `dig`       | Detalle técnico   | Auditorías DNS              |
| `whois`     | Datos de registro | Identificación de ownership |
| `host`      | Simplicidad       | Búsquedas rápidas           |
