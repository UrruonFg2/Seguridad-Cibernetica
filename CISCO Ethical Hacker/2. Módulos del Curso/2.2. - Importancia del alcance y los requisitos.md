### 2.2.1 Descripción General

**Contexto y motivación**

- La ciberseguridad es fundamental en el entorno empresarial y social:
    
    - Aumentan tanto la sofisticación como la frecuencia de los ataques.
        
    - Las pérdidas económicas y de reputación pueden ser enormes.
        
- Las regulaciones y estándares (legales y de la industria) evolucionan para proteger activos críticos:
    
    - **NIST** (National Institute of Standards and Technology): framework, SP800 series.
        
    - **OWASP** (Open Web Application Security Project): Top 10, testing guide.
        
    - **PTES** (Penetration Testing Execution Standard).
        
    - **OSSTMM** (Open Source Security Testing Methodology Manual).
        
    - **ISSAF** (Information Security System Assessment Framework).
        
- **Protego** como proveedor de soluciones:
    
    - Realiza auditorías de seguridad, pruebas de penetración y certificaciones.
        
    - Apoya a clientes en mantener cumplimiento legal y buenas prácticas.
        
    - Necesita conocer marcos aplicables y metodologías de pruebas.
        

**Conceptos clave aprendidos en Módulo 1**

- **Permiso por escrito** antes de cualquier ataque autorizado.
    
- **Metodologías y estándares**: PTES, OSSTMM, NIST SP800-115, OWASP.
    
- **Consideraciones ambientales**:
    
    - Redes on-premise vs. aplicaciones cloud.
        
    - Pentesting de aplicaciones, redes y entornos híbridos.
        

---

### 2.2.2 Reglas de compromiso (Rules of Engagement)

**Definición y propósito**

- Documento contractual que establece:
    
    - **Condiciones**, **límites** y **responsabilidades** de la evaluación.
        
    - Protege a ambas partes de sobrepasar permisos.
        

**Elementos habituales (Tabla 2-3)**

1. **Alcance legal y permisos**:
    
    - Contrato o SOW firmado.
        
    - Documento de permiso de ataque (Attack Authorization).
        
2. **Personal autorizado**:
    
    - Nombres, roles, credenciales del equipo de pentesting.
        
3. **Tipo y nivel de pruebas**:
    
    - Pruebas de caja negra, caja blanca, pruebas de red, de aplicaciones, APIs.
        
4. **Fechas y horarios**:
    
    - Fecha de inicio y fin.
        
    - Horas permitidas (ventanas de testing).
        
5. **Recursos y acceso**:
    
    - Redes, VLANs, SSID inalámbricos.
        
    - Acceso a código fuente, APIs, SDKs, diagramas.
        
6. **Exclusiones**:
    
    - Sistemas críticos fuera de alcance.
        
    - Ataques prohibidos (DoS, APT simuladas sin previo acuerdo).
        
7. **Informes y entregables**:
    
    - Formato, contenido y ritmo de reportes (draft, finales).
        

**Herramientas de planificación**

- **Diagrama de Gantt**:
    
    - Visualiza fases: pre-engagement, pentest, reporte, transferencia de conocimiento.
        
- **WBS (Work Breakdown Structure)**:
    
    - Desglosa tareas detalladas y asignación de responsables.
        

---

### 2.2.3 Práctica: Reglas de compromiso

**Pregunta**: ¿Cuáles son los tres componentes clave?

- Opciones correctas:
    
    1. Nombres y credenciales del personal.
        
    2. Tipos de pruebas permitidas o no.
        
    3. Línea de tiempo de las pruebas.
        

**Justificación**:

- Definen quién, qué y cuándo. Los costos y pagos suelen estar en el contrato general, no en las reglas de participación.
    

---

### 2.2.4 Lista de objetivos y activos dentro del alcance

**Importancia del alcance**

- Delimitar claramente qué se evalúa y qué no.
    
- Evita confusiones y posibles daños a sistemas no autorizados.
    

**Componentes del documento de alcance**

1. **Rangos de IP y subredes**:
    
    - Ej.: `192.168.0.0/24`, `10.0.1.0/24`.
        
2. **Redes inalámbricas**:
    
    - SSID permitidos vs. fuera de alcance.
        
3. **FQDN y dominios**:
    
    - `app.example.com`, `*.dev.example.com`.
        
4. **Ubicación física**:
    
    - Data centers, oficinas específicas.
        
5. **APIs y especificaciones**:
    
    - SOAP (WSDL, XSD), Swagger/OpenAPI, GraphQL, WADL.
        
6. **Acceso a recursos**:
    
    - SDKs, ejemplos de peticiones, diagramas de arquitectura.
        

**API Examples**

- **SOAP**: basado en XML. Definición en WSDL/XSD.
    
- **Swagger/OpenAPI**: JSON/YAML, permite generar clientes.
    
- **GraphQL**: esquema de tipos en SDL.
    
- **WADL**: XML para describir APIs REST.
    

---

### 2.2.5 Práctica: Recursos técnicos según alcance

**Pregunta**: ¿Qué recursos técnicos?:

- **SSID inalámbricos**
    
- **Documentos de topología y arquitectura**
    
- **Documentación de API**
    

---

### 2.2.6 Validación del alcance del compromiso

**Proceso inicial**

1. Revisar **contratos** y **SOW**.
    
2. Confirmar **audiencia** del informe (CISO, equipo técnico, dirección).
    
3. Identificar **stakeholders** y canales de comunicación.
    

**Documentación de contactos**

- Tarjeta de emergencia (Figura 2-2): nombres, puestos, emails, teléfonos.
    

**Canales seguros**

- SCP/SFTP para transferencia de datos.
    
- PGP/S-MIME para correo cifrado.
    

**ROI y presupuesto**

- Cliente: ¿vale la pena la inversión?
    
- Evaluador: justificar costos frente a beneficios y riesgos mitigados.
    

**Evolución de resultados** (Figura 2-3)

- Pentest 1 (1000 sistemas): 5 Crít., 11 Altas, 32 Med., 45 Bajas.
    
- Pentest 2 (1100 sistemas): 3 Crít., 31 Altas, 10 Med., 7 Bajas.
    
- Pentest 3 (2200 sistemas): 15 Crít., 22 Altas, 8 Med., 15 Bajas.
    

> **Reflexión**: Más hallazgos no siempre indican peor seguridad; puede reflejar un scope mayor o nuevas técnicas.

---

### 2.2.7 Estrategias de pruebas de penetración

|Estrategia|Información proporcionada|Objetivo|
|---|---|---|
|**Entorno desconocido**|Mínima (IPs, dominios)|Simular atacante externo (caja negra).|
|**Entorno conocido**|Detallada (diagramas, credenciales)|Profundizar en sistemas específicos (caja blanca).|

**Ventajas y desventajas**

- Caja negra: realismo, descubre fallos “in situ”, pero puede pasar por alto issues internos.
    
- Caja blanca: exhaustiva, acelerada, pero menos refleja condiciones reales.
    
- **Híbrido / Gris**: combinar ambas según alcance y tiempo.
    

---

### 2.2.8 Práctica: Entorno desconocido

**Pregunta**: ¿Qué esperarás recibir?

- Respuesta: **Información mínima** (IPs y nombres de dominio).
    

---

### 2.2.9 Práctica de laboratorio: Alcance y planificación

**Objetivo**: Crear un documento de pre-compromiso con:

- Sistemas y personal dentro/fuera de alcance.
    
- Requisitos legales y de compliance.
    
- Recursos que facilitará el cliente.
    

**Entrega esperada**:

1. Alcance detallado.
    
2. Reglas de participación.
    
3. Cronograma preliminar.
    

---

### 2.2.10 Práctica de laboratorio: Creación de un acuerdo

**Secciones clave de un acuerdo de pentest**

- **Alcance del trabajo**: sistemas, redes, aplicaciones.
    
- **Línea de tiempo del proyecto**: fases, fechas y horas.
    
- **Costos y calendario de pagos**: tarifas, hitos de pago.
    

> **Preguntas de examen**: elegir estas tres como las más importantes.

---

## Consejos adicionales para el examen

1. **Siempre documenta**: alcance, reglas, excepciones.
    
2. **Gestiona el scope creep**: comunicar cambios y firmar nuevos SOW.
    
3. **Elige bien la estrategia** (caja negra vs. blanca) según objetivos y recursos.
    
4. **Mantén comunicación constante** con el cliente y stakeholders.
    
5. **Usa herramientas**: Gantt, WBS, diagramas de red, definiciones de API.
    

¡Estos apuntes te servirán de guía completa para tu examen en Obsidian!